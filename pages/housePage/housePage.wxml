<!--pages/tem.wxml-->
<!-- <wxs module="test" src="../wxs/index.wxs"></wxs> -->
<!-- scroll-y seems always true in skyline by now(20230712)-->
<scroll-view class="scroll_view"
             type="custom"
             scroll-y="{{focusIndex == 0}}"
>
  <view class="root">
    <house index="{{index}}"
           location="{{location}}"
           bind:tap="handleHouseTap"
    >
    </house>
    <view class="btn_group"
          bind:addfloor="handleAddFloor"
          bind:removefloor="handleRemoveFloor"
    >
      <custom-button button-name="green_addfloor"
      ></custom-button>
      <custom-button button-name="red_removefloor"
      ></custom-button>
    </view>
    <floor wx:for="{{floors}}"
           wx:key="index"
           class="{{focusIndex == item.index ? 'focus' : ''}}"
           index="{{item.index}}"
           rooms="{{item.rooms}}"
           focus="{{focus}}"
           status="{{status}}"
           bind:roomtap="handleRoomTap"
           bind:focus="handleFocus"
    ></floor>
    <view class="screen_cover blur_view {{focusIndex == 0 ? 'hide' : ''}}" 
          bind:tap="handleUnfocus"
    ></view>
  </view>
</scroll-view>
